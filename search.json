[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "CÁLCULO ACTUARIAL",
    "section": "",
    "text": "Bienvenido a la sección de Actuarial\nSelecciona el tema que quieras ver.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>INTRODUCCIÓN</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html",
    "title": "2  Tablas de Mortalidad",
    "section": "",
    "text": "3 Distribuciones de Sobrevivencia",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#densidad-weibull",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#densidad-weibull",
    "title": "2  Tablas de Mortalidad",
    "section": "3.1 Densidad Weibull",
    "text": "3.1 Densidad Weibull\n\n3.1.1 Funciones para X\nPrimero se definen los parámetros estimados para la densidad Weibull y luego se construyen las funciones de densidad, sobrevivencia y distribución.\n\n# Parámetros estimados de la densidad Weibull\na &lt;- 5.958716\nb &lt;- 78.82047\n\n# Función de densidad de X, f(x)\nfx &lt;- function(x) {\n  (a / b) * (x / b)^(a - 1) * exp(- (x / b)^a)\n}\n\n# Verificación de la densidad integrando f(x) de 0 a infinito y de 0 a w\nintegrate(fx, lower = 0, upper = Inf)\n\n1 with absolute error &lt; 3.4e-06\n\nw &lt;- 120\nintegrate(fx, lower = 0, upper = w)\n\n0.9999952 with absolute error &lt; 4.4e-08\n\n# Gráfica de la densidad Weibull para x = 1,2,...,w\nplot(fx(1:w), main = \"Densidad Weibull\", xlab = \"x\", ylab = \"f(x)\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-densidad-pdf",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-densidad-pdf",
    "title": "2  Tablas de Mortalidad",
    "section": "4.1 Función de Densidad (PDF)",
    "text": "4.1 Función de Densidad (PDF)\nLa densidad se expresa como:\n\\[\nf(x) = \\frac{a}{b}\\left(\\frac{x}{b}\\right)^{a-1}\\exp\\left[-\\left(\\frac{x}{b}\\right)^a\\right],\\quad x &gt; 0.\n\\]",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-distribución-acumulada-cdf",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-distribución-acumulada-cdf",
    "title": "2  Tablas de Mortalidad",
    "section": "4.2 Función de Distribución Acumulada (CDF)",
    "text": "4.2 Función de Distribución Acumulada (CDF)\nLa función de distribución acumulada se define mediante la integral de la densidad:\n\\[\nF(x) = \\int_0^x f(t)\\,dt = \\int_0^x \\frac{a}{b}\\left(\\frac{t}{b}\\right)^{a-1}\\exp\\left[-\\left(\\frac{t}{b}\\right)^a\\right] dt.\n\\]\nRealizando el cambio de variable\n\\[\nu = \\left(\\frac{t}{b}\\right)^a,\\quad dt = \\frac{b}{a}\\, u^{\\frac{1}{a}-1}\\,du,\n\\]\nla integral se transforma en:\n\\[\nF(x) = \\int_{0}^{\\left(\\frac{x}{b}\\right)^a}\\exp(-u)\\,du = 1 - \\exp\\left[-\\left(\\frac{x}{b}\\right)^a\\right].\n\\]",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-supervivencia",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-supervivencia",
    "title": "2  Tablas de Mortalidad",
    "section": "4.3 Función de Supervivencia",
    "text": "4.3 Función de Supervivencia\nLa función de supervivencia (o función de confiabilidad) es:\n\\[\nS(x) = 1 - F(x) = \\exp\\left[-\\left(\\frac{x}{b}\\right)^a\\right].\n\\]",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-riesgo-hazard",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#función-de-riesgo-hazard",
    "title": "2  Tablas de Mortalidad",
    "section": "4.4 Función de Riesgo (Hazard)",
    "text": "4.4 Función de Riesgo (Hazard)\nLa función de riesgo se define como la razón entre la densidad y la función de supervivencia:\n\\[\nh(x) = \\frac{f(x)}{S(x)} = \\frac{\\frac{a}{b}\\left(\\frac{x}{b}\\right)^{a-1}\\exp\\left[-\\left(\\frac{x}{b}\\right)^a\\right]}{\\exp\\left[-\\left(\\frac{x}{b}\\right)^a\\right]} = \\frac{a}{b}\\left(\\frac{x}{b}\\right)^{a-1}.\n\\]\n\n4.4.1 Función de Sobrevivencia y Distribución de X\nSe definen la función de sobrevivencia y, a partir de ella, la función de distribución.\n\n# Función de sobrevivencia de X, S(x)\nSx &lt;- function(x) {\n  exp(-(x / b)^a)\n}\n\n# Gráfica de la función de sobrevivencia\nplot(Sx(0:w), main = \"Función de Sobrevivencia S(x)\", xlab = \"x\", ylab = \"S(x)\")\n\n\n\n\n\n\n\nSx(0); Sx(w)\n\n[1] 1\n\n\n[1] 4.841952e-06\n\n# Función de distribución de X, F(x) = 1 - S(x)\nFx &lt;- function(x) {\n  1 - Sx(x)\n}\n\n# Gráfica de la función de distribución\nplot(Fx(0:w), main = \"Función de Distribución F(x)\", xlab = \"x\", ylab = \"F(x)\")\n\n\n\n\n\n\n\nFx(0); Fx(w)\n\n[1] 0\n\n\n[1] 0.9999952",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#funciones-para-t-tiempo-futuro-de-vida-de-x",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#funciones-para-t-tiempo-futuro-de-vida-de-x",
    "title": "2  Tablas de Mortalidad",
    "section": "4.5 Funciones para T: Tiempo futuro de vida de (x)",
    "text": "4.5 Funciones para T: Tiempo futuro de vida de (x)\nAhora se consideran las funciones condicionales de sobrevivencia y fallar para un individuo de edad x, junto con la función de riesgo y la densidad de T.\n\n# Edad inicial para el análisis\nx &lt;- 60\n\n# tpx: Probabilidad condicional de sobrevivir a \"x+t\" dado que se sobrevive a \"x\"\ntpx &lt;- function(x, t) {\n  Sx(x + t) / Sx(x)\n}\n\n# Gráfica de tpx\nplot(c(x:w), tpx(x, 0:(w - x)), main = \"tpx: Probabilidad de sobrevivir a x+t\",\n     xlab = \"Tiempo\", ylab = \"tpx\", xlim = c(0, w))\nlines(Sx(0:w), col = 2)\n\n\n\n\n\n\n\n# tqx: Probabilidad condicional de fallar antes de \"x+t\" dado que se sobrevive a \"x\"\ntqx &lt;- function(x, t) {\n  (Sx(x) - Sx(x + t)) / Sx(x)\n}\n\n# Gráfica de tqx\nplot(c(x:w), tqx(x, 0:(w - x)), main = \"tqx: Probabilidad de fallecer antes de x+t\",\n     xlab = \"Tiempo\", ylab = \"tqx\")\n\n\n\n\n\n\n\n# Función de riesgo Mux1 y su versión simplificada Mux\nMux1 &lt;- function(x) {\n  fx(x) / Sx(x)\n}\n\nMux &lt;- function(x) {\n  (a / b) * (x / b)^(a - 1)\n}\n\nMux1(x); Mux(x)\n\n[1] 0.01954189\n\n\n[1] 0.01954189\n\nplot(c(x:w), Mux(0:(w - x)), main = \"Función de riesgo Mux\", xlab = \"x\", ylab = \"Mux\")\n\n\n\n\n\n\n\n# Comparación de Mu con tqx\nplot(c(0:110), tqx(0:110, 1), col = 2, lwd = 3,\n     main = \"Comparación de tqx y Mux\",\n     xlab = \"x\", ylab = \"Valor\")\nlines(c(0:110), Mux(0:110))\n\n\n\n\n\n\n\n# Función de densidad de T, f(t)\nft &lt;- function(t) {\n  tpx(x, t) * Mux(x + t)\n}\n\nintegrate(ft, lower = 0, upper = Inf)\n\n1 with absolute error &lt; 2.6e-06\n\nplot(c(x:w), ft(0:(w - x)), xlim = c(0, w), lwd = 3,\n     main = \"Función de densidad de T\", xlab = \"t\", ylab = \"ft\")\nlines(fx(0:w), col = 2, lwd = 3)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#recién-nacidos",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#recién-nacidos",
    "title": "2  Tablas de Mortalidad",
    "section": "5.1 1) Recién nacidos",
    "text": "5.1 1) Recién nacidos\n\n5.1.1 a) Calcular la probabilidad de que un recién nacido muera entre 60 y 60.0833\nLa probabilidad es la diferencia en la función de distribución para un recién nacido (edad 0):\n\np1a1 &lt;- Fx(60.0833) - Fx(60)\np1a2 &lt;- Sx(60) - Sx(60.0833)\np1a1; p1a2\n\n[1] 0.001340586\n\n\n[1] 0.001340586\n\n\n\n\n5.1.2 b) Aproximar la probabilidad del punto (a) con base en el uso directo de f(x)\nSe utiliza la aproximación lineal usando la densidad en el inicio del intervalo:\n\ndelta &lt;- 1/12\np1b &lt;- fx(60) * delta\np1b\n\n[1] 0.001337605\n\n\n\n\n5.1.3 c) Calcular la probabilidad de que un recién nacido muera entre 80 y 80.0833\nDe forma similar, se calcula la diferencia en la función de distribución:\n\np1c1 &lt;- Fx(80.0833) - Fx(80)\np1c2 &lt;- Sx(80) - Sx(80.0833)\np1c1; p1c2\n\n[1] 0.00227147\n\n\n[1] 0.00227147",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#calcular-la-probabilidad-de-que-60-muera-entre-60-y-60.0833.",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#calcular-la-probabilidad-de-que-60-muera-entre-60-y-60.0833.",
    "title": "2  Tablas de Mortalidad",
    "section": "5.2 2) Calcular la probabilidad de que (60) muera entre 60 y 60.0833.",
    "text": "5.2 2) Calcular la probabilidad de que (60) muera entre 60 y 60.0833.\nPara un individuo que ya tiene 60, las probabilidades se condicionan a haber sobrevivido hasta 60.\n\n5.2.1 a) Usando f(x)\nLa probabilidad condicional es:\n\\[\nP(60 &lt; X \\le 60.0833 \\mid X &gt; 60)= \\frac{F(60.0833) - F(60)}{S(60)}= \\frac{\\int_{60}^{60.0833} f(x)\\,dx}{\\int_{60}^{\\infty} f(x)\\,dx}\n\\]\n\n# Usando diferencia de la función de distribución\np2a1 &lt;- (Fx(60.0833) - Fx(60)) / Sx(60)\n\n# Alternativamente: integrar la densidad\nnumerador &lt;- integrate(fx, lower = 60, upper = 60.0833)$value\ndenominador &lt;- integrate(fx, lower = 60, upper = Inf)$value\np2a_alt &lt;- numerador / denominador\n\np2a1; p2a_alt\n\n[1] 0.001632119\n\n\n[1] 0.001632119\n\n\n\n\n5.2.2 b) Usando (f_T(t))\nLa densidad del tiempo futuro de vida (T) para un individuo de 60 años está dada por:\n\\[\nf_T(t) = tpx(60, t) \\cdot \\mu(60 + t)\n\\]\nEntonces, la probabilidad de que muera entre los 60 y 60.0833 años, es decir, que es:\n\\[\nP(0 &lt; T \\le 0.0833) = \\int_0^{0.0833} f_T(t)\\,dt\n\\]\n\n# Cálculo directo de la probabilidad mediante la integral de f_T(t)\np2b &lt;- integrate(ft, lower = 0, upper = 0.0833)$value\np2b\n\n[1] 0.001632119\n\n\nEsta es otra forma de calcular la misma probabilidad que en el punto anterior, pero vista desde la variable aleatoria de tiempo futuro (T = X - 60).\n\n\n5.2.3 c) Aproximar la probabilidad con base en el uso directo de \\(\\mu(x)\\)\nSe usa la aproximación (60)t:\n\np2c &lt;- Mux(60) * 0.0833\np2c\n\n[1] 0.001627839\n\n\n\n\n5.2.4 d) Calcular la probabilidad de que (80) muera entre 80 y 80.0833\nPara un individuo de 80 se tiene:\n\\[\nP(80 &lt; X \\le 80.0833 \\mid X &gt; 80) = \\frac{F(80.0833)-F(80)}{S(80)}.\n\\]\n\np2d &lt;- (Fx(80.0833) - Fx(80)) / Sx(80)\np2d\n\n[1] 0.006773194",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#calcular-la-probabilidad-de-que-60-muera-entre-80-y-80.0833.",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#calcular-la-probabilidad-de-que-60-muera-entre-80-y-80.0833.",
    "title": "2  Tablas de Mortalidad",
    "section": "5.3 3) Calcular la probabilidad de que (60) muera entre 80 y 80.0833.",
    "text": "5.3 3) Calcular la probabilidad de que (60) muera entre 80 y 80.0833.\nAquí el intervalo de tiempo en la vida futura es de ( t=20 ) a ( t=20.0833 ) (ya que (80-60=20)).\n\n5.3.1 a) Usando f(x)\nLa probabilidad condicional usando la función de distribución es:\n\\[\nP(80 &lt; X \\le 80.0833 \\mid X &gt; 60)=\\frac{F(80.0833)-F(80)}{S(60)}.\n\\]\n\np3a &lt;- (Fx(80.0833) - Fx(80)) / Sx(60)\np3a\n\n[1] 0.002765441\n\n\n\n\n5.3.2 b) Usando f(t)\nIntegramos la densidad de la vida futura (f_T(t)) en el intervalo (t [20,20.0833]):\n\np3b &lt;- integrate(ft, lower = 20, upper = 20.0833)$value\np3b\n\n[1] 0.002765441\n\n\n\n\n5.3.3 c) Aproximar la probabilidad con base en el uso directo de ((x))\nSe usa la aproximación ( (80) ):\n\np3c &lt;- Mux(80) * 0.0833\np3c\n\n[1] 0.006778712",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#esperanza-de-vida",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#esperanza-de-vida",
    "title": "2  Tablas de Mortalidad",
    "section": "5.4 4) Esperanza de vida",
    "text": "5.4 4) Esperanza de vida\nLa esperanza de vida para un individuo de edad (x) es:\n\\[\ne_x = \\frac{1}{S(x)}\\int_x^\\infty S(t)\\,dt.\n\\]\n\n5.4.1 a) Calcular la esperanza de vida para (0), (20) y (60)\n\ne0 &lt;- integrate(Sx, lower = 0, upper = Inf)$value\ne20 &lt;- integrate(Sx, lower = 20, upper = Inf)$value / Sx(20)\ne60 &lt;- integrate(Sx, lower = 60, upper = Inf)$value / Sx(60)\ne0; e20; e60\n\n[1] 73.0953\n\n\n[1] 53.11111\n\n\n[1] 17.90395\n\n\n\n\n5.4.2 b) Calcular la esperanza de vida de (60) en un horizonte de 10 años\nAquí se calcula la esperanza de vida limitada a 10 años. Se usa:\n\\[\ne_{60}^{(10)} = \\int_{0}^{10} t\\,f_T(t)\\,dt + 10\\cdot tpx(60,10),\n\\]\ndonde (tpx(60,10) = Sx(70)/Sx(60)) es la probabilidad de sobrevivir a 10 años.\n\ne60_10 &lt;- integrate(function(t) t * ft(t), lower = 0, upper = 10)$value + 10 * tpx(60, 10)\ne60_10\n\n[1] 8.816834",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#cálculo-usando-supuestos-alternativos",
    "href": "CALCULO_ACTUARIAL/Tablas-de-Mortalidad.html#cálculo-usando-supuestos-alternativos",
    "title": "2  Tablas de Mortalidad",
    "section": "5.5 5) Cálculo usando Supuestos Alternativos",
    "text": "5.5 5) Cálculo usando Supuestos Alternativos\nCalcular la probabilidad del punto (2) - Pr(que (60) muera entre 60 y 60.0833) - con base en los supuestos de los siguientes 3 puntos, que son supuestos alternativos para aproximar la probabilidad usando la función de riesgo, los siguientes:\n\n5.5.1 a) Distribución uniforme de muertes\nSe aproxima la probabilidad con el promedio de los valores de () en el inicio y final del intervalo multiplicado por el ancho del intervalo:\n\np5a &lt;- ((Mux(60) + Mux(60.0833)) / 2) * 0.0833\np5a\n\n[1] 0.001633458\n\n\n\n\n5.5.2 b) Supuesto Balducci\nBajo Balducci se aproxima la probabilidad como:\n\\[\nq \\approx \\frac{\\mu(60)\\delta}{1 + \\mu(60)\\delta/2}.\n\\]\n\np5b &lt;- (Mux(60) * 0.0833) / (1 + (Mux(60) * 0.0833) / 2)\np5b\n\n[1] 0.001626515\n\n\n\n\n5.5.3 c) Fuerza constante de mortalidad\nSuponiendo una fuerza de mortalidad constante en el intervalo, la probabilidad es:\n\\[\nq \\approx 1 - \\exp\\bigl(-\\mu(60)\\cdot 0.0833\\bigr).\n\\]\n\np5c &lt;- 1 - exp(-Mux(60) * 0.0833)\np5c\n\n[1] 0.001626515",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Tablas de Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Mortalidad.html",
    "href": "CALCULO_ACTUARIAL/Taller-Mortalidad.html",
    "title": "3  Taller Mortalidad",
    "section": "",
    "text": "4 Limpieza de entorno y directorio\n\nrm(list = ls(all = TRUE))\n\n\n\n5 Lectura y exploración de datos\n\nqx &lt;- read.delim(\"q_X-TablaMortAseg.txt\")\nqx_truncado &lt;- read.delim(\"q_X_truncado-TablaMortAseg.txt\")\n\n\n\n6 Función CrearTablaConEsperanza\nCalcula las siguientes columnas para un vector (q_x):\n\n\\[p_x = 1 - q_x\\]\n\n\\[l_x\\]: número de personas vivas a cada edad\n\n\\[d_x = l_x \\, q_x\\]: defunciones\n\n\\[e^0_x = \\frac{\\sum_{j=i+1}^n l_j}{l_i} + 0.5\\]: esperanza de vida\n\n\ncolnames(qx)[colnames(qx) == \"x\"] &lt;- \"X\"\nTablaMortalidad &lt;- function(qx_df, col_qx, l0 = 100000) {\n  edades &lt;- qx_df$X\n  qx     &lt;- qx_df[[col_qx]]\n  n      &lt;- length(qx)\n\n  px &lt;- 1 - qx\n  lx &lt;- dx &lt;- numeric(n)\n  lx[1] &lt;- l0\n  \n  # l_x\n  for(i in seq_len(n - 1)) {\n    dx[i]   &lt;- lx[i] * qx[i]\n    lx[i+1] &lt;- lx[i] - dx[i]\n  }\n  # última edad\n  dx[n] &lt;- lx[n] * qx[n]\n  \n  # e^0_x = (sum_{j&gt;i} l_j)/l_i + 1/2\n  e0x &lt;- numeric(n)\n  for(i in seq_len(n)) {\n    if(i &lt; n) {e0x[i] &lt;- sum(lx[(i+1):n]) / lx[i] + 0.5\n    } else {e0x[i] &lt;- 0.5}\n  }\n  data.frame(x   = edades, qx  = round(qx,6), px  = round(px,6), lx  = round(lx), dx  = round(dx,1), e0x = round(e0x,1))\n}\n\n\n\n7 Generar tablas de mortalidad completas\n\ntabla_Rentistas_Hombres &lt;- TablaMortalidad(qx, col_qx = \"qxH\", l0 = 100000)\nhead(tabla_Rentistas_Hombres)\n\n  x       qx       px     lx   dx  e0x\n1 0 0.000485 0.999515 100000 48.5 79.3\n2 1 0.000485 0.999515  99952 48.5 78.3\n3 2 0.000485 0.999515  99903 48.5 77.4\n4 3 0.000485 0.999515  99855 48.4 76.4\n5 4 0.000485 0.999515  99806 48.4 75.4\n6 5 0.000485 0.999515  99758 48.4 74.5\n\ntabla_Rentistas_Mujeres &lt;- TablaMortalidad(qx, col_qx = \"qxM\", l0 = 100000)\nhead(tabla_Rentistas_Mujeres)\n\n  x       qx       px     lx   dx  e0x\n1 0 0.000272 0.999728 100000 27.2 84.7\n2 1 0.000272 0.999728  99973 27.2 83.7\n3 2 0.000272 0.999728  99946 27.2 82.8\n4 3 0.000272 0.999728  99918 27.2 81.8\n5 4 0.000272 0.999728  99891 27.2 80.8\n6 5 0.000272 0.999728  99864 27.2 79.8\n\ntabla_invalidos_Hombres &lt;- TablaMortalidad(qx, col_qx = \"qxiH\", l0 = 100000)\nhead(tabla_invalidos_Hombres)\n\n  x       qx       px     lx     dx  e0x\n1 0 0.014786 0.985214 100000 1478.6 43.8\n2 1 0.014803 0.985197  98521 1458.5 43.5\n3 2 0.014822 0.985178  97063 1438.7 43.1\n4 3 0.014842 0.985158  95624 1419.2 42.8\n5 4 0.014863 0.985137  94205 1400.2 42.4\n6 5 0.014886 0.985114  92805 1381.5 42.0\n\ntabla_invalidos_Mujeres &lt;- TablaMortalidad(qx, col_qx = \"qxiM\", l0 = 100000)\nhead(tabla_invalidos_Mujeres)\n\n  x       qx       px     lx    dx  e0x\n1 0 0.009112 0.990888 100000 911.2 55.4\n2 1 0.009120 0.990880  99089 903.7 54.9\n3 2 0.009129 0.990871  98185 896.3 54.4\n4 3 0.009138 0.990862  97289 889.0 53.9\n5 4 0.009148 0.990852  96400 881.9 53.4\n6 5 0.009159 0.990841  95518 874.8 52.9\n\ntabla_Hombres_Asegurados &lt;- TablaMortalidad(qx_truncado, col_qx = \"qxH\", l0 = 100000)\nhead(tabla_Hombres_Asegurados)\n\n   x       qx       px     lx  dx  e0x\n1 20 0.003560 0.996440 100000 356 54.3\n2 21 0.003593 0.996407  99644 358 53.5\n3 22 0.003636 0.996364  99286 361 52.7\n4 23 0.003680 0.996320  98925 364 51.9\n5 24 0.003713 0.996287  98561 366 51.1\n6 25 0.003727 0.996273  98195 366 50.3\n\ntabla_Mujeres_aseguradas &lt;- TablaMortalidad(qx_truncado, col_qx = \"qxM\", l0 = 100000)\nhead(tabla_Mujeres_aseguradas)\n\n   x       qx       px     lx  dx  e0x\n1 20 0.001300 0.998700 100000 130 57.4\n2 21 0.001342 0.998658  99870 134 56.5\n3 22 0.001384 0.998616  99736 138 55.5\n4 23 0.001416 0.998584  99598 141 54.6\n5 24 0.001458 0.998542  99457 145 53.7\n6 25 0.001490 0.998510  99312 148 52.8",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Taller Mortalidad</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html",
    "href": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html",
    "title": "4  Amortizacion de Credito",
    "section": "",
    "text": "4.1 1. Crédito a corto plazo: Cuota fija, pagos vencidos\nPara calcular la cuota fija (R) se usan las siguientes constantes:\nAmortizacionCortaPlazoFijo &lt;- function(n, i, VP) {\n  # n   : plazo en años\n  # i   : tasa efectiva anual\n  # VP  : valor presente del crédito\n  \n  i12_12 &lt;- (1 + i)^(1/12) - 1 \n  m &lt;- n * 12 # número de pagos m\n  \n  a_mensual &lt;- (1 - (1 + i12_12)^(-m)) / i12_12\n  \n  # cuota fija R\n  R &lt;- VP / a_mensual\n  \n  # inicializar \n  Mes        &lt;- 1:m\n  Cuota      &lt;- rep(R, m)\n  Intereses  &lt;- numeric(m)\n  Abono      &lt;- numeric(m)\n  Saldo      &lt;- numeric(m + 1)\n  Saldo[1]   &lt;- VP\n  \n  # amortización\n  for (k in 1:m) {\n    Intereses[k] &lt;- i12_12 * Saldo[k]\n    Abono[k]     &lt;- Cuota[k] - Intereses[k]\n    Saldo[k + 1] &lt;- Saldo[k] - Abono[k]\n  }\n  \n  \n  tabla &lt;- data.frame(\n    Mes               = Mes,\n    Cuota             = round(Cuota,     2),\n    Intereses         = round(Intereses, 2),\n    AbonoACapital     = round(Abono,      2),\n    SaldoRestante     = round(Saldo[-1],  2) # (quitamos el primer saldo de la columna original)\n  )\n  \n  return(tabla)\n}\n\n# Ejemplo:\ntabla_ejemplo &lt;- AmortizacionCortaPlazoFijo(n = 3, i = 0.14, VP = 45000000)\nhead(tabla_ejemplo, 5)\n\n  Mes   Cuota Intereses AbonoACapital SaldoRestante\n1   1 1520016  494048.3       1025967      43974033\n2   2 1520016  482784.4       1037231      42936802\n3   3 1520016  471396.8       1048619      41888183\n4   4 1520016  459884.2       1060131      40828052\n5   5 1520016  448245.1       1071770      39756281\n\ntail(tabla_ejemplo, 5)\n\n   Mes   Cuota Intereses AbonoACapital SaldoRestante\n32  32 1520016  80760.78       1439255       5916777\n33  33 1520016  64959.42       1455056       4461721\n34  34 1520016  48984.57       1471031       2990690\n35  35 1520016  32834.34       1487181       1503509\n36  36 1520016  16506.80       1503509             0",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Amortizacion de Credito</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#crédito-a-corto-plazo-cuota-fija-pagos-vencidos",
    "href": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#crédito-a-corto-plazo-cuota-fija-pagos-vencidos",
    "title": "4  Amortizacion de Credito",
    "section": "",
    "text": "Tasa efectiva mensual: \\[\ni_{(12)}=\\frac{i^{(12)}}{12} = (1 + i)^{1/12} - 1\n\\]\nFactor de anualidad mensual: \\[\n12 \\, a_{\\overline{n}|} = \\frac{1 - \\bigl(1 + i_{(12)}\\bigr)^{-12n}}{i_{(12)}}\n\\]\nCuota fija: \\[\nR = \\frac{VP}{12 \\, a_{\\overline{n}|}}\n\\]",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Amortizacion de Credito</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#crédito-a-corto-plazo-cuota-decreciente-pagos-vencidos",
    "href": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#crédito-a-corto-plazo-cuota-decreciente-pagos-vencidos",
    "title": "4  Amortizacion de Credito",
    "section": "4.2 2. Crédito a corto plazo: Cuota decreciente, pagos vencidos",
    "text": "4.2 2. Crédito a corto plazo: Cuota decreciente, pagos vencidos\n\nAbono a capital mensual constante:\n\\[\ni_{(12)}=\\frac{i^{(12)}}{12} = (1 + i)^{1/12} - 1\n\\] \\[\n\\text{AbonoCapital}_i = \\frac{VP}{12*n}\n\\]\nIntereses cada mes: \\[\n\\text{Intereses}_i = i_{(12)} \\times \\text{Saldo}_{i-1}\n\\]\nCuota mensual variable: \\[\n\\text{Cuota}_i = \\text{AbonoCapital}_i + \\text{Intereses}_i\n\\]\n\n\nAmortizacionCuotaDecreciente &lt;- function(n, i, VP) {\n  # n   : plazo en años\n  # i   : tasa efectiva anual\n  # VP  : valor presente del crédito\n  \n  i12_12 &lt;- (1 + i)^(1/12) - 1\n  m &lt;- n * 12 # número total de pagos m\n  \n  abono_capital &lt;- VP / m # Abono Fijo\n  \n  # inicializar\n  Mes           &lt;- 1:m\n  Cuota         &lt;- numeric(m)\n  Intereses     &lt;- numeric(m)\n  AbonoACapital &lt;- rep(abono_capital, m)\n  Saldo         &lt;- numeric(m + 1)\n  Saldo[1]      &lt;- VP\n  \n  # amortización\n  for (k in 1:m) {\n    Intereses[k] &lt;- i12_12 * Saldo[k]\n    Cuota[k]     &lt;- AbonoACapital[k] + Intereses[k]\n    Saldo[k + 1] &lt;- Saldo[k] - AbonoACapital[k]\n  }\n  \n  tabla &lt;- data.frame(\n    Mes               = Mes,\n    Cuota             = round(Cuota,         2),\n    Intereses         = round(Intereses,     2),\n    AbonoACapital     = round(AbonoACapital, 2),\n    SaldoRestante     = round(Saldo[-1],      2)\n  )\n  \n  return(tabla)\n}\n\n# Ejemplo:\ntabla_decreciente &lt;- AmortizacionCuotaDecreciente(n = 3, i = 0.14, VP = 45000000)\nhead(tabla_decreciente,5)\n\n  Mes   Cuota Intereses AbonoACapital SaldoRestante\n1   1 1744048  494048.3       1250000      43750000\n2   2 1730325  480324.8       1250000      42500000\n3   3 1716601  466601.2       1250000      41250000\n4   4 1702878  452877.6       1250000      40000000\n5   5 1689154  439154.1       1250000      38750000\n\ntail(tabla_decreciente,5)\n\n   Mes   Cuota Intereses AbonoACapital SaldoRestante\n32  32 1318618  68617.82       1250000       5000000\n33  33 1304894  54894.26       1250000       3750000\n34  34 1291171  41170.69       1250000       2500000\n35  35 1277447  27447.13       1250000       1250000\n36  36 1263724  13723.56       1250000             0",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Amortizacion de Credito</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#largo-plazo-en-pesos-con-inflación-pagos-vencidos",
    "href": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#largo-plazo-en-pesos-con-inflación-pagos-vencidos",
    "title": "4  Amortizacion de Credito",
    "section": "4.3 3. Largo plazo en pesos con inflación, pagos vencidos",
    "text": "4.3 3. Largo plazo en pesos con inflación, pagos vencidos\nEntradas: tasa real (e), inflación anual (r), años (n), (VP).\nConstantes:\n\nTasa anual con inflación: \\[\ni = (1+e)(1+r) - 1\n\\]\nTasa mensual efectiva con inflación: \\[\ni_{(12)} = \\frac{i^{(12)}}{12} = (1 + i)^{1/12} - 1\n\\]\nTasa nominal anual: \\[\ni^{(12)}= 12[(1 + i)^{1/12} - 1]\n\\]\nTasa mensual real: \\[\ne_{(12)} =\\frac{e^{(12)}}{12} = (1+e)^{1/12} - 1,\\quad e^{(12)}= 12[(1 + e)^{1/12} - 1]\n\\]\nValor presente anualidad ajustada: \\[\nVPa = \\frac{i}{i^{(12)}}\\cdot \\frac{1}{1 + r}\\cdot \\frac{1 - (1+e)^{-n}}{e} \\cdot 12\n\\]\nCuota inicial: \\[\nR_0 = \\frac{VP}{VPa}\n\\]\n\nCada 12 meses la cuota se ajusta por inflación multiplicando por (1+r).\n\nAmortizacionLargoPlazoInflacion &lt;- function(n, e, r, VP) {\n  # n   : plazo en años\n  # e   : tasa real efectiva anual\n  # r   : inflación anual\n  # VP  : valor presente del préstamo\n  \n  # tasa anual con inflación\n  i     &lt;- (1 + e)*(1 + r) - 1\n  \n  # tasas\n  i_12_12   &lt;- (1 + i)^(1/12) - 1       # tasa mensual efectiva con inflación\n  e_12_12   &lt;- (1 + e)^(1/12) - 1       # tasa mensual real\n  i_12 &lt;- 12 * i_12_12                 # tasa nominal anual\n  e_12_12 &lt;- 12 * e_12_12                 # tasa nominal real\n  \n  # factor de anualidad real ajustada por inflación\n  VPa &lt;- (i / i_12) * (1/(1 + r)) * (1 - (1 + e)^(-n)) / e * 12\n  \n  # cuota inicial (mensual)\n  R0 &lt;- VP / VPa\n  \n  # Inicializar valores\n  m   &lt;- n * 12\n  Mes &lt;- 1:m\n  Cuota         &lt;- numeric(m)\n  Intereses     &lt;- numeric(m)\n  AbonoACapital &lt;- numeric(m)\n  Saldo         &lt;- numeric(m + 1)\n  Saldo[1]      &lt;- VP\n  \n  # ciclo mes a mes, actualizando la cuota cada año\n  R &lt;- R0\n  for (k in 1:m) {\n    # cada vez que empieza un nuevo año (mes 1,13,25,...), se ajusta la cuota\n    if (k &gt; 1 && (k - 1) %% 12 == 0) {\n      R &lt;- R * (1 + r)\n    }\n    Cuota[k]         &lt;- R\n    Intereses[k]     &lt;- i_12_12 * Saldo[k]\n    AbonoACapital[k] &lt;- R - Intereses[k]\n    Saldo[k + 1]     &lt;- Saldo[k] - AbonoACapital[k]\n  }\n  \n  data.frame(\n    Mes               = Mes,\n    Cuota             = round(Cuota,         2),\n    Intereses         = round(Intereses,     2),\n    AbonoACapital     = round(AbonoACapital, 2),\n    SaldoRestante     = round(Saldo[-1],      2)\n  )\n}\n\n# Ejemplo:\ntabla_largo_plazo &lt;- AmortizacionLargoPlazoInflacion(n = 15, e = 0.09, r = 0.05, VP = 300000000)\nhead(tabla_largo_plazo, 5)\n\n  Mes   Cuota Intereses AbonoACapital SaldoRestante\n1   1 3058893   3393243     -334350.1     300334350\n2   2 3058893   3397025     -338131.8     300672482\n3   3 3058893   3400850     -341956.4     301014438\n4   4 3058893   3404717     -345824.2     301360262\n5   5 3058893   3408629     -349735.7     301709998\n\ntail(tabla_largo_plazo, 5)\n\n    Mes   Cuota Intereses AbonoACapital SaldoRestante\n176 176 6056399 331191.52       5725208      23555764\n177 177 6056399 266434.79       5789964      17765800\n178 178 6056399 200945.59       5855454      11910346\n179 179 6056399 134715.67       5921683       5988663\n180 180 6056399  67736.63       5988663             0",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Amortizacion de Credito</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#crédito-en-uvr-cuota-fija-en-uvr-pagos-vencidos",
    "href": "CALCULO_ACTUARIAL/Amortizacion-de-Credito.html#crédito-en-uvr-cuota-fija-en-uvr-pagos-vencidos",
    "title": "4  Amortizacion de Credito",
    "section": "4.4 4. Crédito en UVR: cuota fija en UVR, pagos vencidos",
    "text": "4.4 4. Crédito en UVR: cuota fija en UVR, pagos vencidos\nEntradas: (e, r, n, VP_, UVR).\nConstantes:\n\n(VP_{UVR} = )\n\nTasa mensual real: \\[\ne_{(12)} =\\frac{e^{(12)}}{12} = (1+e)^{1/12} - 1,\\quad e^{(12)}= 12[(1 + e)^{1/12} - 1]\n\\]\nAnualidad mensual en UVR: \\[\n12\\,a_{\\overline{n}|} = \\frac{1 - (1+e)^{-n}}{e_{(12)}}\n\\]\nCuota fija en UVR: \\[\nR_{UVR} = \\frac{VP_{UVR}}{12\\,a_{\\overline{n}|}}\n\\]\n\nIntereses mensuales: (e_{(12)}) saldo en UVR.\n\nAmortizacionUVR &lt;- function(n, e, r, VP_pesos, UVR_valor) {\n  # n         : plazo en años\n  # e         : tasa real efectiva anual\n  # r         : inflación anual\n  # VP_pesos  : monto del préstamo en pesos\n  # UVR_valor : valor de la UVR\n  \n  # convertir VP a UVR\n  VP_uvr &lt;- VP_pesos / UVR_valor\n  \n  # tasa mensual real\n  e_12_12 &lt;- (1 + e)^(1/12) - 1\n  \n  # factor de anualidad mensual en UVR:\n  a_n_12 &lt;- (1 - (1 + e)^(-n)) / e_12_12\n  \n  # cuota fija en UVR\n  R_uvr &lt;- VP_uvr / a_n_12\n  \n  # inicializar\n  m   &lt;- n * 12\n  Mes &lt;- 1:m\n  Cuota_uvr     &lt;- rep(R_uvr, m)\n  Intereses_uvr &lt;- numeric(m)\n  Abono_uvr     &lt;- numeric(m)\n  Saldo_uvr     &lt;- numeric(m + 1)\n  Saldo_uvr[1]  &lt;- VP_uvr\n  \n  # amortización\n  for (k in 1:m) {\n    Intereses_uvr[k] &lt;- e_12_12 * Saldo_uvr[k]\n    Abono_uvr[k]     &lt;- Cuota_uvr[k] - Intereses_uvr[k]\n    Saldo_uvr[k + 1] &lt;- Saldo_uvr[k] - Abono_uvr[k]\n  }\n  \n  data.frame(\n    Mes                = Mes,\n    Cuota_UVR          = round(Cuota_uvr,     0),\n    Intereses_UVR      = round(Intereses_uvr, 0),\n    AbonoCapital_UVR   = round(Abono_uvr,     0),\n    SaldoRestante_UVR  = round(Saldo_uvr[-1], 0)\n  )\n}\n\n# Ejemplo:\ntabla_uvr &lt;- AmortizacionUVR(n = 15, e = 0.09, r = 0.05, VP_pesos = 300000000, UVR_valor = 322.34)\nhead(tabla_uvr, 5)\n\n  Mes Cuota_UVR Intereses_UVR AbonoCapital_UVR SaldoRestante_UVR\n1   1      9246          6708             2538            928156\n2   2      9246          6690             2557            925599\n3   3      9246          6671             2575            923024\n4   4      9246          6653             2594            920430\n5   5      9246          6634             2612            917818\n\ntail(tabla_uvr, 5)\n\n    Mes Cuota_UVR Intereses_UVR AbonoCapital_UVR SaldoRestante_UVR\n176 176      9246           326             8920             36328\n177 177      9246           262             8984             27344\n178 178      9246           197             9049             18295\n179 179      9246           132             9114              9180\n180 180      9246            66             9180                 0",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Amortizacion de Credito</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Seguros.html",
    "href": "CALCULO_ACTUARIAL/Taller-Seguros.html",
    "title": "5  Taller Seguros",
    "section": "",
    "text": "6 Preparación de datos y parámetros\nlibrary(readxl)\nqx_mujeres &lt;- read_excel(\"qx-hombres-y-mujeres.xls\",\n                         sheet = \"Asegurados - Muj\",\n                         col_types = c(\"numeric\",\"numeric\"))\n\nedades &lt;- qx_mujeres$X\nqx     &lt;- qx_mujeres$qx\n\ni  &lt;- 0.10     # tasa efectiva anual bruta\nr  &lt;- 0.0788   # inflación anual proyectada\nv  &lt;- 1/(1+i)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Taller Seguros</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Seguros.html#prima-entera-con-fraccionamiento-eficiente",
    "href": "CALCULO_ACTUARIAL/Taller-Seguros.html#prima-entera-con-fraccionamiento-eficiente",
    "title": "5  Taller Seguros",
    "section": "6.1 1. Prima entera con fraccionamiento eficiente",
    "text": "6.1 1. Prima entera con fraccionamiento eficiente\nFórmulas:\n\nTasa efectiva mensual:\n\\[\n  i_{(12)} = 12\\bigl((1+i)^{1/12}-1\\bigr)\n\\]\nTablas de vida: \\(\\displaystyle l_{x+1} = l_x\\,(1 - q_x),\\quad l_0 = 100\\,000.\\)\nValores descontados:\n\\[\n  D_x = v^x\\,l_x,\\quad C_x = D_x\\,v\\,q_x\n\\]\nMomentos decrecientes:\n\\[\n  M_x = \\sum_{j=x}^n C_j,\\quad R_x = \\sum_{j=x}^n M_j\n\\]\nAnualidad entera:\n\\[\n  A_x = \\frac{M_x}{D_x},\\quad \\ddot{A}_x = \\frac{R_x}{D_x}\n\\]\nPrima fraccionaria eficiente:\n\\[\n  \\pi_x = \\frac{i}{i_{(12)}}\\Bigl(A_x \\;+\\; r\\,(\\ddot{A}_x - A_x)\\Bigr).\n\\]\n\n\ncalcular_primas_entero_fracc_efficient &lt;- function(qx, VA, m) {\n  i_m &lt;- m * ((1 + i)^(1/m) - 1)\n  n   &lt;- length(qx)\n  \n  # l_x\n  lx &lt;- numeric(n); lx[1] &lt;- 100000\n  for(k in 1:(n-1)) lx[k+1] &lt;- lx[k] * (1 - qx[k])\n\n  Dx   &lt;- v^edades * lx\n  Cx   &lt;- Dx * v * qx\n  Mx   &lt;- rev(cumsum(rev(Cx)))\n  Rx   &lt;- rev(cumsum(rev(Mx)))\n  Ax   &lt;- Mx / Dx\n  IA_x &lt;- Rx / Dx\n  \n  prima &lt;- (i / i_m) * (Ax + r * (IA_x - Ax))\n  \n  data.frame(\n    edad   = edades,\n    qx     = qx,\n    Ax     = round(Ax,     6),\n    prima  = round(prima*VA, 6)\n  )\n}\n\nUso: esta prima combina valor presente de pagos y ajuste por inflación fraccional.\n\nprima_entera_aritmetica_frac &lt;- calcular_primas_entero_fracc_efficient(\n  qx, VA = 500000000, m = 12\n)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Taller Seguros</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Seguros.html#prima-sae-fraccionaria",
    "href": "CALCULO_ACTUARIAL/Taller-Seguros.html#prima-sae-fraccionaria",
    "title": "5  Taller Seguros",
    "section": "6.2 2. Prima SAE fraccionaria",
    "text": "6.2 2. Prima SAE fraccionaria\nFórmulas adicionales:\n\nCorrección SAE (fraccional):\n\\[\n  \\pi_x^{\\mathrm{SAE}}\n    = \\frac{i}{i_{(12)}}\\bigl(A_x + r(\\ddot{A}_x - A_x)\\bigr)\n    \\;+\\; r\\,\\frac{i - i_{(12)}}{i_{(12)}^2}\\,A_x.\n\\]\n\n\ncalcular_primas_SAE_fracc &lt;- function(qx, VA, m) {\n  n  &lt;- length(qx)\n  im &lt;- m * ((1 + i)^(1/m) - 1)\n  \n  lx &lt;- numeric(n); lx[1] &lt;- 100000\n  for(k in 1:(n-1)) lx[k+1] &lt;- lx[k] * (1 - qx[k])\n\n  Dx   &lt;- v^edades * lx\n  Cx   &lt;- Dx * v * qx\n  Mx   &lt;- rev(cumsum(rev(Cx)))\n  Rx   &lt;- rev(cumsum(rev(Mx)))\n  Ax   &lt;- Mx / Dx\n  IA_x &lt;- Rx / Dx\n\n  prima_SAE &lt;- (i / im) * (Ax + r * (IA_x - Ax)) +\n               (r * ((i - im) / im^2) * Ax)\n  \n  data.frame(\n    edad  = edades,\n    qx    = qx,\n    Ax    = round(Ax, 6),\n    prima = round(prima_SAE * VA, 6)\n  )\n}\n\nInterpretación: se añade término corrector de nivel para SAE.\n\nprima_entera_aritmetica_frac_m &lt;- calcular_primas_SAE_fracc(\n  qx, VA = 500000000, m = 12\n)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Taller Seguros</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Seguros.html#prima-con-crecimiento-geométrico",
    "href": "CALCULO_ACTUARIAL/Taller-Seguros.html#prima-con-crecimiento-geométrico",
    "title": "5  Taller Seguros",
    "section": "6.3 3. Prima con crecimiento geométrico",
    "text": "6.3 3. Prima con crecimiento geométrico\nFórmulas:\n\nTasa real efectiva:\n\\[\n  e = \\frac{1+i}{1+r} - 1,\\quad v_e = \\frac{1}{1+e}.\n\\]\nValores descontados real:\n\\[\n  D_x^{(e)}=v_e^x\\,l_x,\\quad C_x^{(e)}=D_x^{(e)}\\,v_e\\,q_x.\n\\]\nAnualidad real:\n\\[\n  A_x^{(e)}=\\frac{\\sum_{j=x}^n C_j^{(e)}}{D_x^{(e)}}.\n\\]\nPrima geométrica:\n\\[\n  \\pi_x = \\frac{i}{i_{(12)}}\\,\\frac{A_x^{(e)}}{1+r}.\n\\]\n\n\ne  &lt;- (1 + i)/(1 + r) - 1\nVe &lt;- 1 / (1 + e)\n\ncalcular_primas_geom_creciente &lt;- function(qx, VA, m) {\n  n   &lt;- length(qx)\n  i_m &lt;- m * ((1 + i)^(1/m) - 1)\n  \n  lx &lt;- numeric(n); lx[1] &lt;- 100000\n  for(k in 1:(n-1)) lx[k+1] &lt;- lx[k] * (1 - qx[k])\n\n  Dx_e   &lt;- Ve^edades * lx\n  Cx_e   &lt;- Dx_e * Ve * qx\n  Mx_e   &lt;- rev(cumsum(rev(Cx_e)))\n  Ax_e   &lt;- Mx_e / Dx_e\n\n  prima &lt;- (i / i_m) * Ax_e / (1 + r)\n  \n  data.frame(\n    edad   = edades,\n    qx     = qx,\n    Ax_e   = round(Ax_e, 6),\n    prima  = round(prima * VA, 6)\n  )\n}\n\nUso: interesante para seguros reajustados solo por inflación.\n\nprima_geometrica_frac &lt;- calcular_primas_geom_creciente(\n  qx, VA = 500000000, m = 12\n)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Taller Seguros</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Seguros.html#comparación-de-crecimientos-del-valor-asegurado",
    "href": "CALCULO_ACTUARIAL/Taller-Seguros.html#comparación-de-crecimientos-del-valor-asegurado",
    "title": "5  Taller Seguros",
    "section": "6.4 4. Comparación de crecimientos del valor asegurado",
    "text": "6.4 4. Comparación de crecimientos del valor asegurado\nNo hay función aquí; se grafica:\n\nAritmético fraccional: \\(1 + r\\,(k-1)/m\\).\nAritmético anual: \\(1 + r\\,(t-edad_{start}-1)\\).\nGeométrico anual: \\((1+r)^{t-edad_{start}-1}\\).\n\n\nr           &lt;- 0.0788;  m &lt;- 12\nedad_inicio &lt;- 20;     edad_fin &lt;- 50\n\ned_int &lt;- (edad_inicio+1):edad_fin\nbenef2 &lt;- 1 + r*(ed_int-(edad_inicio+1))\n\nk       &lt;- 1:((edad_fin-edad_inicio)*m)\nti      &lt;- edad_inicio + k/m\nbenef1  &lt;- 1 + r*((k-1)/m)\nbenef3  &lt;- (1+r)^(ed_int-(edad_inicio+1))\n\nplot(ti, benef1, type=\"l\", col=1, lwd=2,\n     ylim=c(0,max(benef1,benef2,benef3)),\n     xlab=\"Edad\", ylab=\"Beneficio\",\n     main=\"Crecimiento del valor asegurado\")\nlines(ed_int, benef2, col=2, lwd=2)\nlines(ed_int, benef3, col=3, lwd=2)\nlegend(\"topleft\",\n       legend=c(\"Aritmético fracc.\",\"Aritmético anual\",\"Geométrico\"),\n       col=1:3, lwd=2, bty=\"n\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Taller Seguros</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Taller-Seguros.html#tabla-comparativa-de-primas",
    "href": "CALCULO_ACTUARIAL/Taller-Seguros.html#tabla-comparativa-de-primas",
    "title": "5  Taller Seguros",
    "section": "6.5 5. Tabla comparativa de primas",
    "text": "6.5 5. Tabla comparativa de primas\n\nVA &lt;- 500000000; m &lt;- 12\naritm   &lt;- calcular_primas_entero_fracc_efficient(qx, VA, m)\naritm_m &lt;- calcular_primas_SAE_fracc(qx, VA, m)\ngeom    &lt;- calcular_primas_geom_creciente(qx, VA, m)\n\ntabla_comparativa &lt;- data.frame(\n  Edad                  = edades,\n  Seguro1_Aritmético    = aritm$prima,\n  Seguro2_Aritmético_m  = aritm_m$prima,\n  Seguro3_Geométrico    = geom$prima\n)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Taller Seguros</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Funciones-Pensiones.html",
    "href": "CALCULO_ACTUARIAL/Funciones-Pensiones.html",
    "title": "6  Funciones Pensiones",
    "section": "",
    "text": "6.1 1. Tabla de mortalidad\nAntes de la función definimos:\nlibrary(readxl)\nqx_mujeres_rentistas &lt;- read_excel(\"qx-mujeres-rentistas.xlsx\",\n                                   col_types = c(\"numeric\",\"numeric\"))\nTablaMortalidad &lt;- function(qx_df, col_qx, l0 = 100000) {\n  edades &lt;- qx_df$x\n  qx     &lt;- qx_df[[col_qx]]\n  n      &lt;- length(qx)\n  lx &lt;- dx &lt;- numeric(n)\n  lx[1] &lt;- l0\n  for(i in seq_len(n - 1)) {\n    dx[i]   &lt;- lx[i] * qx[i]\n    lx[i+1] &lt;- lx[i] - dx[i]\n  }\n  dx[n] &lt;- lx[n] * qx[n]\n  data.frame(x = edades, qx = round(qx,6), lx = round(lx))\n}\ntabla_Rentistas_Mujeres &lt;- TablaMortalidad(qx_mujeres_rentistas, \"qx\")\nhead(tabla_Rentistas_Mujeres)\n\n  x       qx     lx\n1 0 0.000272 100000\n2 1 0.000272  99973\n3 2 0.000272  99946\n4 3 0.000272  99918\n5 4 0.000272  99891\n6 5 0.000272  99864",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Funciones Pensiones</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#tabla-de-mortalidad",
    "href": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#tabla-de-mortalidad",
    "title": "6  Funciones Pensiones",
    "section": "",
    "text": "\\(l_0 = 100\\,000\\)\n\n\\(d_x = l_x \\, q_x\\)\n\n\\(l_{x+1} = l_x - d_x\\)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Funciones Pensiones</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#mesada-pensional-fondo-privado",
    "href": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#mesada-pensional-fondo-privado",
    "title": "6  Funciones Pensiones",
    "section": "6.2 2. Mesada pensional — Fondo Privado",
    "text": "6.2 2. Mesada pensional — Fondo Privado\nFórmulas:\n\nAnualidad temporal:\n\\[\n  a_{\\bar n|e} = \\frac{1 - (1+e)^{-n}}{e}\n\\]\nValor presente acumulado (fraccional y unitario):\n\\[\n  (VP)^{(m)}_{\\bar n|e} = m\\;\\frac{i}{i^{(m)}}\\;\\frac{1}{1+r}\\;a_{\\bar n|e},\\quad\n  (VP)^{(1)}_{\\bar n|e} = \\frac{1}{1+r}\\;a_{\\bar n|e}\n\\]\nValor presente total y futuro:\n\\[\n  (VP)_{\\bar n|e} = (VP)^{(m)}_{\\bar n|e} + (VP)^{(1)}_{\\bar n|e},\\quad\n  (VF)_{\\bar n|e} = (VP)^{(m)}_{\\bar n|e}\\,(1+e)^n\n\\]\nValor presente en edad \\(x\\):\n\\[\n  D_x(e) = (1+e)^{-(t-x)}\\,l_t,\\quad\n  N_x(e) = \\sum_{t=x+1}^\\infty D_t(e),\\quad\n  a_{\\bar x|e} = \\frac{N_x(e)}{D_x(e)}\n\\]\nPrima de reemplazo:\n\\[\n  \\text{tasa}_{\\text{rep}} = \\frac{(VF)_{\\bar n|e}}{(VP)_x}\\;\\times\\;\\text{tasa\\_cotización},\\quad\n  \\text{mesada} = \\text{salario} \\times \\text{tasa}_{\\text{rep}}\n\\]\n\n\ne &lt;- 0.03; r &lt;- 0.0788; i &lt;- 0.1112; m &lt;- 12\ntasa_cotizacion &lt;- 0.115\nedades &lt;- tabla_Rentistas_Mujeres$x\n\nmesada_privada &lt;- function(salario_mensual, n, edad, lx) {\n  v   &lt;- 1/(1+r)\n  i_m &lt;- m*((1+i)^(1/m)-1)\n  # 1) VP y VF\n  a_n_e   &lt;- (1-(1+e)^(-n))/e\n  VPm     &lt;- m*i/i_m * v * a_n_e\n  VP1     &lt;- v * a_n_e\n  VP_n_e  &lt;- VPm + VP1\n  VF_n_e  &lt;- VP_n_e * (1+e)^n\n  # 2) VP_x y a_x_e\n  idx     &lt;- match(edad, edades)\n  ages    &lt;- edades[idx:length(edades)]\n  lx_sub  &lt;- lx[idx:length(lx)]\n  k_sub   &lt;- ages - edad\n  Dxe     &lt;- (1+e)^(-k_sub) * lx_sub\n  Nxe     &lt;- sum(Dxe[-1]); Dxe0 &lt;- Dxe[1]\n  a_x_e   &lt;- Nxe / Dxe0\n  VP_x    &lt;- 12*(a_x_e/(1+r)*(1+r*(m-1)/(2*m)) + (m-1)/(2*m)) +\n             a_x_e/(1+r)\n  # 3) mesada\n  tasa_rep &lt;- (VF_n_e / VP_x) * tasa_cotizacion\n  salario_mensual * tasa_rep\n}\n\nmesada_privada(7.7 * 1423500, n = 25, edad = 57,\n               lx = tabla_Rentistas_Mujeres$lx)\n\n[1] 2444608",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Funciones Pensiones</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#mesada-pensional-fondo-público",
    "href": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#mesada-pensional-fondo-público",
    "title": "6  Funciones Pensiones",
    "section": "6.3 3. Mesada pensional — Fondo Público",
    "text": "6.3 3. Mesada pensional — Fondo Público\nReglas:\n\\[\n\\text{tasa}_{\\text{rep}} =\n\\begin{cases}\n0.65 - 0.005\\,S, & n = 25,\\\\\n0.65 - 0.005\\,S + 0.015\\,(n-25), & n &gt; 25.\n\\end{cases}\n\\] Asumiendo que cada año tuviera 50 semanas solamente.\nY si la mesada es menos de un salario mínimo, el estado subsidiara el restante así sea fondo privado o público.\n\nSMLV &lt;- 1423500\nmesada_publica &lt;- function(salario_mensual, n) {\n  S &lt;- salario_mensual / SMLV\n  tasa_rep &lt;- if(n==25) {\n    0.65 - 0.005*S\n  } else if(n&gt;25) {\n    0.65 - 0.005*S + 0.015*(n-25)\n  } else stop(\"Años &lt; 25 no aplican\")\n  salario_mensual * tasa_rep\n}\n\nmesada_publica(2.3 * SMLV, n = 25)\n\n[1] 2090481",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Funciones Pensiones</span>"
    ]
  },
  {
    "objectID": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#mesada-bajo-reforma-combinada",
    "href": "CALCULO_ACTUARIAL/Funciones-Pensiones.html#mesada-bajo-reforma-combinada",
    "title": "6  Funciones Pensiones",
    "section": "6.4 4. Mesada bajo reforma combinada",
    "text": "6.4 4. Mesada bajo reforma combinada\nSe aplica pública hasta \\(2.3\\) SMLV y privada sobre el exceso.\n\nmesada_actual &lt;- function(salario_mensual, n, edad, lx) {\n  limite &lt;- 2.3 * SMLV\n  if (salario_mensual &lt;= limite) {\n    mesada_publica(salario_mensual, n)\n  } else {\n    mp    &lt;- mesada_publica(limite, n)\n    exceso&lt;- salario_mensual - limite\n    mpr   &lt;- mesada_privada(exceso, n, edad, lx)\n    mp + mpr\n  }\n}\n\nmesada_actual(10 * SMLV, n = 25, edad = 57,\n              lx = tabla_Rentistas_Mujeres$lx)\n\n[1] 4535089",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Funciones Pensiones</span>"
    ]
  }
]